{% extends 'base.html' %}

{% block title %} Notifications {% endblock %}

{% block contents %}
<style>
    /* Styling the notifications section */
.notifications {
  margin-top: 50px;
}

.section-title {
  font-size: 2rem;
  font-weight: 600;
  margin-bottom: 30px;
}

/* Notification item styles */
.notification-item {
  background-color: #f8f9fa;
}

.notification-item.read {
  background-color: #e9ecef;
}

.notification-item.unread {
  background-color: #ffffff;
  border-left: 5px solid #007bff;
}

.notification-content {
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.timestamp {
  font-size: 0.9rem;
  color: #6c757d;
}

.no-notifications {
  padding: 20px;
  background-color: #f8f9fa;
  border-radius: 5px;
}

</style>
<section class="section notifications">
    <div class="container">
        <h2 class="h2 section-title text-center">Notifications</h2>
        
        <ul class="notifications-list list-unstyled">
            {% for notification in notifications %}
            <li class="notification-item {% if notification.is_read %}read{% else %}unread{% endif %} mb-3">
                <div class="notification-content p-3 border rounded shadow-sm">
                    <p>
                        {% if notification.notification_type == 'reaction' %}
                            <strong>{{ notification.sender.username }}</strong> reacted to your blog post <em>"{{ notification.blog.title }}"</em> with a <strong>"{{ notification.comment.content }}"</strong> reaction.
                            <a href="{{ notification.blog.get_absolute_url }}" class="btn btn-link">View Blog</a>
                        {% elif notification.notification_type == 'comment' %}
                            <strong>{{ notification.sender.username }}</strong> commented on your blog post <em>"{{ notification.blog.title }}"</em>: 
                            <blockquote>"{{ notification.comment.content }}"</blockquote>
                            <a href="{{ notification.blog.get_absolute_url }}#comment-{{ notification.comment.id }}" class="btn btn-link">View Comment</a>
                        {% elif notification.notification_type == 'follow' %}
                            <strong>{{ notification.sender.username }}</strong> started following you.
                            <a href="{% url 'profile' notification.sender.username %}" class="btn btn-link">View Profile</a>
                        {% endif %}
                    </p>
                    <span class="timestamp text-muted d-block mt-2">{{ notification.created_at|date:"F j, Y, g:i a" }}</span>
                </div>
            </li>
            {% empty %}
            <li class="no-notifications text-center">
                <p class="text-muted">You have no notifications at this time.</p>
            </li>
            {% endfor %}
        </ul>
    </div>
</section>
{% endblock %}



{% block footer %}
{% endblock %} 